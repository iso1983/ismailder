<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Universe - VL8R4eva</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; font-family: 'Segoe UI', Roboto, sans-serif; }
        canvas { display: block; }

        /* Fixed Image Overlay */
        .profile-container {
            position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
            z-index: 2000; cursor: pointer;
        }
        .profile-overlay {
            width: 90px; height: 90px; border-radius: 50%;
            border: 3px solid #ff4400; box-shadow: 0 0 20px #ff4400;
            object-fit: cover;
        }

        /* Dashboard Containers */
        .window {
            position: absolute;
            z-index: 1000;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 68, 0, 0.3);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        h3 { margin: 0 0 10px 0; color: #ffaa00; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid #333; padding-bottom: 5px; }
        
        #btc-window { top: 20px; left: 20px; width: 250px; }
        #eth-window { top: 180px; left: 20px; width: 250px; }
        #whale-window { bottom: 20px; left: 20px; width: 350px; max-height: 300px; overflow-y: auto; }

        .price { font-size: 28px; font-weight: bold; margin-bottom: 5px; }
        .change { font-size: 14px; color: #00ff88; }
        .data-row { display: flex; justify-content: space-between; font-size: 12px; margin-top: 8px; color: #ccc; }

        .whale-item {
            background: rgba(255, 68, 0, 0.05);
            border-left: 3px solid #ff4400;
            padding: 8px;
            margin-bottom: 10px;
            font-size: 13px;
            line-height: 1.4;
        }
    </style>
</head>
<body>

    <div class="profile-container">
        <img src="https://raw.githubusercontent.com/iso1983/VL8R4eva/main/myface.png" class="profile-overlay">
    </div>

    <div id="btc-window" class="window">
        <h3>Bitcoin Terminal</h3>
        <div class="price">$96,420.00</div>
        <div class="change">‚ñ≤ 2.45% (24h)</div>
        <div class="data-row"><span>Vol:</span> <span>$35.2B</span></div>
        <div class="data-row"><span>Market Cap:</span> <span>$1.9T</span></div>
    </div>

    <div id="eth-window" class="window">
        <h3>Ethereum Terminal</h3>
        <div class="price">$3,512.45</div>
        <div class="change">‚ñ≤ 1.82% (24h)</div>
        <div class="data-row"><span>Gas:</span> <span>12 Gwei</span></div>
        <div class="data-row"><span>Staked:</span> <span>32.1M ETH</span></div>
    </div>

    <div id="whale-window" class="window">
        <h3>Whale Watcher</h3>
        <div class="whale-item">üö® 1,500 #BTC (144,630,000 USD) transferred from Unknown Wallet to #Binance</div>
        <div class="whale-item">üêã 25,000 #ETH (87,811,250 USD) moved between Unknown Wallets</div>
        <div class="whale-item">üí∞ 50,000,000 #USDC minted at Tether Treasury</div>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/examples/jsm/controls/OrbitControls": "https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js",
                "three/examples/jsm/loaders/GLTFLoader": "https://unpkg.com/three@0.160.0/examples/jsm/loaders/GLTFLoader.js"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';
        import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';

        const scene = new THREE.Scene();
        
        // --- CAMERA ADJUSTMENT ---
        // Far plane extended and Z-position set further back (180,000)
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 100, 5000000);
        camera.position.set(0, 40000, 180000); 

        const renderer = new THREE.WebGLRenderer({ antialias: true, logarithmicDepthBuffer: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.toneMapping = THREE.ReinhardToneMapping; 
        renderer.toneMappingExposure = 2.5; 
        renderer.outputColorSpace = THREE.SRGBColorSpace;
        document.body.appendChild(renderer.domElement);

        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.target.set(0, 0, 0); // Always stay locked on center

        const pmremGenerator = new THREE.PMREMGenerator(renderer);
        scene.environment = pmremGenerator.fromScene(new THREE.Scene()).texture;

        scene.add(new THREE.AmbientLight(0xffffff, 0.1)); 
        const lavaLight = new THREE.PointLight(0xff4400, 60, 1000000, 1.5);
        lavaLight.position.set(0, 0, 0);
        scene.add(lavaLight);

        // Starfield
        const starCoords = [];
        for(let i = 0; i < 30000; i++) starCoords.push((Math.random()-0.5)*3000000, (Math.random()-0.5)*3000000, (Math.random()-0.5)*3000000);
        const starGeo = new THREE.BufferGeometry();
        starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starCoords, 3));
        scene.add(new THREE.Points(starGeo, new THREE.PointsMaterial({ size: 150, color: 0xffffff })));

        const mixers = [];
        const clock = new THREE.Clock();
        const loader = new GLTFLoader();
        
        let lavaPlanet, alienModel;
        let alienOrbitAngle = 0;

        // Load Lava Planet at center
        loader.load('./lavaplanet.glb', (gltf) => {
            lavaPlanet = gltf.scene;
            lavaPlanet.scale.set(18000, 18000, 18000);
            lavaPlanet.position.set(0, 0, 0); // Centered
            
            lavaPlanet.traverse(child => {
                if (child.isMesh) {
                    child.material.emissive = new THREE.Color(0xff2200);
                    child.material.emissiveIntensity = 15;
                    child.material.roughness = 0.3;
                    child.material.metalness = 0.8;
                }
            });
            scene.add(lavaPlanet);
            const mixer = new THREE.AnimationMixer(lavaPlanet);
            gltf.animations.forEach(clip => mixer.clipAction(clip).play());
            mixers.push(mixer);
        });

        // Load Alien orbiting center
        loader.load('./alien.glb', (gltf) => {
            alienModel = gltf.scene;
            alienModel.scale.set(8000, 8000, 8000); 
            scene.add(alienModel);
            const mixer = new THREE.AnimationMixer(alienModel);
            if (gltf.animations.length > 0) {
                mixer.clipAction(gltf.animations[0]).play();
                mixers.push(mixer);
            }
        });

        function animate() {
            requestAnimationFrame(animate);
            const delta = clock.getDelta();
            mixers.forEach(m => m.update(delta));
            
            if(lavaPlanet) {
                // Rotation only, no translation
                lavaPlanet.rotation.y += 0.001;

                if (alienModel) {
                    // Orbiting the centered planet
                    alienOrbitAngle += 0.005;
                    const radius = 45000;
                    alienModel.position.x = Math.cos(alienOrbitAngle) * radius;
                    alienModel.position.z = Math.sin(alienOrbitAngle) * radius;
                    alienModel.position.y = Math.sin(alienOrbitAngle * 0.5) * 5000;
                    alienModel.lookAt(0, 0, 0);
                }
            }
            
            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
